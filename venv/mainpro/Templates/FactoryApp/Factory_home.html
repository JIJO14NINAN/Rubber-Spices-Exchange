{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Factory Home</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <link rel="stylesheet" href="{% static 'FactoryApp/css/factory_home.css' %}">
</head>

<body>
    <header>
        <div class="navbar">
            <div class="logo"><i class="fa-solid fa-leaf"></i> Rubber & Spices</div>
            <nav>
                <ul>
                    <li><a href="#">Home</a></li>
                    <li><a href="{% url 'factory_stocks' %}">Stocks</a></li>
                    <li><a href="#">Ordered History</a></li>
                    <li style="position:relative;">
                        <a href="{% url 'factory_profile' %}" id="profileIcon" style="display:flex;align-items:center;gap:6px;">
                            <i class="fa-solid fa-user-circle"></i> Profile
                        </a>
                        <div id="profilePopup" class="profile-popup">
                            <a href="{% url 'factory_profile' %}" class="popup-link"><i class="fa-solid fa-user-gear"></i> Customize Profile</a>
                            <a href="{% url 'factory_signout' %}" class="popup-link"><i class="fa-solid fa-right-from-bracket"></i> Sign Out</a>
                        </div>
                    </li>
                </ul>
            </nav>
        </div>
    </header>
    <main class="main-content">
        <h1><i class="fa-solid fa-list"></i> Trading List</h1>
        <table>
            <thead>
                <tr>
                    <th>S.No</th>
                    <th>Product Name</th>
                    <th>Grade</th>
                    <th>Trading Price</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>1</td>
                    <td>Rubber Sheet</td>
                    <td>
                        <ul style="margin:0; padding-left:18px;">
                            <li>RSS1X</li>
                            <li>RSS1</li>
                            <li>RSS2</li>
                            <li>RSS3</li>
                            <li>RSS4</li>
                            <li>RSS5</li>
                        </ul>
                    </td>
                    <td>
                        <ul style="margin:0; padding-left:18px;">
                            <li>32000</li>
                            <li>31000</li>
                            <li>29000</li>
                            <li>27000</li>
                            <li>25050</li>
                            <li>24500</li>
                        </ul>
                    </td>
                </tr>
                <tr>
                    <td>2</td>
                    <td>Rubber Latex Ottupal</td>
                    <td></td>
                    <td>500</td>
                </tr>
                <tr>
                    <td>3</td>
                    <td>Pepper</td>
                    <td>
                        <ul style="margin:0; padding-left:18px;">
                            <li>FAQ1</li>
                            <li>FAQ2</li>
                            <li>FAQ3</li>
                            <li>FAQ4</li>
                            <li>FAQ5</li>
                        </ul>
                    </td>
                    `<td>
                        <ul style="margin:0; padding-left:18px;">
                            <li>50000</li>
                            <li>48000</li>
                            <li>46000</li>
                            <li>44000</li>
                            <li>42000</li>
                        </ul>
                    </td>
                </tr>
            </tbody>
        </table>
        <a href="#" class="request-btn" style="margin-top:32px;display:inline-block;">Request for Stock</a>
    </main>
    <footer>
        <p>&copy; 2025 Rubber & Spices Exchange. All rights reserved.</p>
    </footer>

</body>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        const profileIcon = document.getElementById('profileIcon');
        const popup = document.getElementById('profilePopup');
        // Toggle popup on profile icon click
        profileIcon.addEventListener('click', function (e) {
            e.preventDefault();
            popup.style.display = (popup.style.display === 'block') ? 'none' : 'block';
        });
        // Hide popup when clicking outside
        document.addEventListener('click', function (e) {
            if (!profileIcon.contains(e.target) && !popup.contains(e.target)) {
                popup.style.display = 'none';
            }
        });
    });
</script>

</html>